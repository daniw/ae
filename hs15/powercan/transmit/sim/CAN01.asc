Version 4
SHEET 1 1976 680
WIRE -944 -336 -1120 -336
WIRE -672 -336 -864 -336
WIRE 16 -336 -672 -336
WIRE 96 -336 16 -336
WIRE 240 -336 176 -336
WIRE 736 -336 320 -336
WIRE 1024 -336 736 -336
WIRE 1360 -336 1024 -336
WIRE 1504 -336 1440 -336
WIRE 1520 -336 1504 -336
WIRE 1552 -336 1520 -336
WIRE 1616 -336 1552 -336
WIRE 1808 -336 1696 -336
WIRE 1920 -336 1808 -336
WIRE 1920 -320 1920 -336
WIRE 1504 -304 1504 -336
WIRE 1552 -304 1552 -336
WIRE -944 -208 -992 -208
WIRE -416 -208 -864 -208
WIRE 16 -208 -416 -208
WIRE 96 -208 16 -208
WIRE 240 -208 176 -208
WIRE 816 -208 320 -208
WIRE 960 -208 816 -208
WIRE 1360 -208 960 -208
WIRE 1504 -208 1504 -224
WIRE 1504 -208 1440 -208
WIRE 1552 -208 1552 -240
WIRE 1552 -208 1504 -208
WIRE 1792 -208 1552 -208
WIRE 1920 -208 1920 -240
WIRE 1920 -208 1792 -208
WIRE -992 -144 -992 -208
WIRE -672 -144 -672 -336
WIRE -416 -144 -416 -208
WIRE 816 -144 816 -208
WIRE 960 -144 960 -208
WIRE 1024 -144 1024 -336
WIRE 1024 -48 1024 -80
WIRE 1120 -48 1024 -48
WIRE 1248 -48 1120 -48
WIRE 1424 -48 1248 -48
WIRE 1584 -48 1424 -48
WIRE 816 -32 816 -64
WIRE 1584 -32 1584 -48
WIRE 1344 48 1296 48
WIRE 816 64 816 48
WIRE 1248 64 1248 -48
WIRE 1424 64 1424 -48
WIRE -672 80 -672 -80
WIRE -416 80 -416 -80
WIRE 1584 80 1584 48
WIRE 1728 80 1584 80
WIRE 1584 96 1584 80
WIRE 736 160 736 -336
WIRE 816 160 816 128
WIRE 816 160 736 160
WIRE -1120 176 -1120 -336
WIRE -1024 176 -1024 80
WIRE -784 176 -784 80
WIRE -672 176 -672 80
WIRE -416 176 -416 80
WIRE 960 208 960 -80
WIRE 1120 208 960 208
WIRE 1248 208 1248 112
WIRE 1248 208 1120 208
WIRE 1296 208 1296 128
WIRE 1296 208 1248 208
WIRE 1344 208 1344 48
WIRE 1344 208 1296 208
WIRE 1424 208 1424 128
WIRE 1424 208 1344 208
WIRE 1584 208 1584 176
WIRE 1584 208 1424 208
FLAG -1024 256 0
FLAG -784 256 0
FLAG -672 256 0
FLAG -1024 80 data
FLAG -784 80 offset
FLAG -672 80 CAN_H
FLAG -416 256 0
FLAG -416 80 CAN_L
FLAG -1120 256 0
FLAG -992 -144 0
FLAG 16 -208 BUS_L
FLAG 16 -336 BUS_H
FLAG 1792 -208 LOAD_L
FLAG 1808 -336 LOAD_H
FLAG 1520 -336 LOAD_F1
FLAG 1728 80 offset
FLAG 1120 -48 CAN_NODE_H
FLAG 1120 208 CAN_NODE_L
SYMBOL voltage -1024 160 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName data
SYMATTR Value PWL file=data.txt
SYMBOL bv -672 160 R0
SYMATTR InstName CAN_H
SYMATTR Value V=V(offset)+V(data)
SYMBOL voltage -784 160 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName offset
SYMATTR Value 2.5
SYMBOL bv -416 160 R0
SYMATTR InstName CAN_L
SYMATTR Value V=V(offset)-V(data)
SYMBOL voltage -1120 160 R0
SYMATTR InstName DC
SYMATTR Value 24
SYMBOL ind -960 -320 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName L1
SYMATTR Value 1m
SYMATTR SpiceLine Rser=10m Rpar=1g
SYMBOL ind -960 -192 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName L2
SYMATTR Value 1m
SYMATTR SpiceLine Rser=10m Rpar=1g
SYMBOL cap -688 -144 R0
SYMATTR InstName C1
SYMATTR Value 100n
SYMATTR SpiceLine Rser=0.1
SYMBOL cap -432 -144 R0
SYMATTR InstName C2
SYMATTR Value 100n
SYMATTR SpiceLine Rser=0.1
SYMBOL res 1904 -336 R0
SYMATTR InstName R1
SYMATTR Value 10
SYMBOL ind 1344 -320 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName L3
SYMATTR Value 1m
SYMATTR SpiceLine Rser=10m Rpar=1g
SYMBOL ind 1344 -192 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName L4
SYMATTR Value 1m
SYMATTR SpiceLine Rser=10m Rpar=1g
SYMBOL cap 1536 -304 R0
SYMATTR InstName C3
SYMATTR Value 1m
SYMATTR SpiceLine Rser=10m
SYMBOL ind 1600 -320 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName L5
SYMATTR Value 1m
SYMATTR SpiceLine Rser=10m Rpar=1g
SYMBOL res 1488 -320 R0
SYMATTR InstName R2
SYMATTR Value 1k
SYMBOL cap 944 -144 R0
SYMATTR InstName C4
SYMATTR Value 100n
SYMATTR SpiceLine Rser=0.1
SYMBOL cap 1008 -144 R0
SYMATTR InstName C5
SYMATTR Value 100n
SYMATTR SpiceLine Rser=0.1
SYMBOL res 1568 -48 R0
SYMATTR InstName R3
SYMATTR Value 1k
SYMBOL res 1568 80 R0
SYMATTR InstName R4
SYMATTR Value 1k
SYMBOL sw 1296 32 R0
SYMATTR InstName S1
SYMATTR Value MYSW
SYMBOL res 800 -160 R0
SYMATTR InstName R5
SYMATTR Value 50
SYMBOL ind 800 -48 R0
SYMATTR InstName L6
SYMATTR Value 100µ
SYMBOL cap 800 64 R0
SYMATTR InstName C6
SYMATTR Value 510.9n
SYMBOL res 80 -320 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R6
SYMATTR Value 100m
SYMBOL res 80 -192 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R7
SYMATTR Value 100m
SYMBOL ind 224 -320 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName L7
SYMATTR Value 2µ
SYMBOL ind 224 -192 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName L8
SYMATTR Value 2µ
SYMBOL schottky 1440 128 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D1
SYMATTR Value BAT54
SYMATTR Description Diode
SYMATTR Type diode
TEXT -1056 280 Left 2 !.tran 0 1000u 0 10n
TEXT 1024 296 Left 2 !.model MYSW SW(Ron=10 Roff=1meg Vt=0 Vh=0.5)
